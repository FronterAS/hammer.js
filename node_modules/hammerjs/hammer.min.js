/*! Hammer.JS - v2.0.0dev - 2014-06-15
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */


!function(a,b){"use strict";function c(a,b){b=b||{};var c=new N(a,b);return d(c.options.recognizers,function(a){var b=c.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2])}),c}function d(a,b,c){var d,e;if(a.forEach)a.forEach(b,c);else if(typeof a.length!==Y)for(d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function e(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(!c||c&&typeof a[d]==Y)&&(a[d]=b[d]);return a}function f(a,b){return e(a,b,!0)}function g(a,b,c){var d,f=b.prototype;if(Object.create)d=a.prototype=Object.create(f),d.constructor=a;else{e(a,parent);var g=function(){this.constructor=a};g.prototype=f,d=a.prototype=new g}c&&e(d,c),d._super=f}function h(a,b){return function(){return a.apply(b,arguments)}}function i(a,b,c){d(m(b),function(b){a.addEventListener(b,c,!1)})}function j(a,b,c){d(m(b),function(b){a.removeEventListener(b,c,!1)})}function k(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function l(a){return Math.round(a)}function m(a){return a.trim().split(/\s+/g)}function n(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0,e=a.length;e>d;d++)if(c&&a[d][c]==b||!c&&a[d]===b)return d;return-1}function o(a){return Array.prototype.slice.call(a,0)}function p(a,b){for(var c=[],d=[],e=0,f=a.length;f>e;e++)n(d,a[e][b])<0&&c.push(a[e]),d[e]=a[e][b];return c}function q(a,c,d){var e=r(a,c);return e?typeof a[e]==X?typeof d==Y?h(a[e],a):a[e].apply(a,d):(d&&(a[e]=d),a[e]):b}function r(a,c){var d,e,f,g=c[0].toUpperCase()+c.slice(1);for(f=0;f<W.length;f++)if(d=W[f],e=d?d+g:c,e in a)return e;return b}function s(){return Z++}function t(b,c){var d=this;this.manager=b,this.callback=c,this.domHandler=function(a){d.manager.enabled&&d.handler(a)},this.elEvents&&i(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&i(a,this.winEvents,this.domHandler)}function u(a){var b;return new(b=_?H:bb?I:ab?J:G)(a,v)}function v(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&gb&&d-e===0,g=b&ib&&d-e===0;c.isFirst=f,c.isFinal=g,f&&(a.session={}),c.eventType=b,w(a,c),a.recognize(c)}function w(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=y(b)),e>1&&!c.firstMultiple?c.firstMultiple=y(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=z(d);b.timeStamp=b.srcEvent.timeStamp,b.center=i,b.angle=D(h,i),b.distance=C(h,i),b.direction=B(h,i),b.deltaTime=b.timeStamp-f.timeStamp,b.deltaX=i.x-h.x,b.deltaY=i.y-h.y,b.scale=g?F(g.pointers,d):1,b.rotation=g?E(g.pointers,d):0;var j=a.element;k(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j,x(c,b)}function x(a,b){var c=a.lastInterval;c||(c=a.lastInterval=y(b));var d=b.timeStamp-c.timeStamp;if(d>fb||!c.velocity){var e=b.deltaX-c.deltaX,f=b.deltaY-c.deltaY;c=a.lastInterval=y(b),c.velocity=A(d,e,f)}var g=c.velocity;b.velocity=Math.max(g.x,g.y),b.velocityX=g.x,b.velocityY=g.y}function y(a){for(var b=[],c=0;c<a.pointers.length;c++)b[c]={clientX:l(a.pointers[c].clientX),clientY:l(a.pointers[c].clientY)};return{timeStamp:a.srcEvent.timeStamp,pointers:b,center:z(b),deltaX:a.deltaX,deltaY:a.deltaY}}function z(a){var b=a.length;if(1===b)return{x:l(a[0].clientX),y:l(a[0].clientY)};for(var c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return{x:l(c/b),y:l(d/b)}}function A(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}}function B(a,b){var c=a.x-b.x,d=a.y-b.y;return c===d?kb:Math.abs(c)>=Math.abs(d)?c>0?lb:mb:d>0?nb:ob}function C(a,b,c){c||(c=rb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function D(a,b,c){c||(c=rb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function E(a,b){return D(b[1],b[0],sb)-D(a[1],a[0],sb)}function F(a,b){return C(b[0],b[1],sb)/C(a[0],a[1],sb)}function G(){this.elEvents=ub,this.winEvents=vb,this.allow=!0,this.pressed=!1,t.apply(this,arguments)}function H(){this.elEvents=yb,this.winEvents=zb,t.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function I(){this.elEvents=Bb,t.apply(this,arguments)}function J(){t.apply(this,arguments),this.touch=new I(this.manager,this._handler),this.mouse=new G(this.manager,this._handler)}function K(a,b){this.element=a,this.domEvents=b,this.handlers={}}function L(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}function M(a){this.manager=a}function N(a,b){this.enabled=!0,b=b||{},b.touchAction=b.touchAction||a.style.touchAction,this.options=f(b,c.defaults),K.call(this,a,this.options.domEvents),this.session={},this.recognizers=[],this.input=u(this),this.touchAction=new M(this),this.touchAction.set(this.options.touchAction)}function O(a){this.id=s(),this.manager=null,this.options=f(a||{},this.defaults),this.state=Db,this.enabled=!0,this.simultaneous={}}function P(){O.apply(this,arguments)}function Q(){O.apply(this,arguments),this._timer=null,this._input=null}function R(){P.apply(this,arguments),this._pX=null,this._pY=null}function S(){P.apply(this,arguments)}function T(){P.apply(this,arguments)}function U(){P.apply(this,arguments)}function V(){O.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this.count=0}c.VERSION="2.0.0dev";var W=["","webkit","moz","MS","ms","o"],X="function",Y="undefined",Z=1,$=/mobile|tablet|ip(ad|hone|od)|android|silk/i,_=typeof r(a,"PointerEvent")!=Y,ab="ontouchstart"in a,bb=ab&&$.test(navigator.userAgent),cb="touch",db="pen",eb="mouse",fb=50,gb=1,hb=2,ib=4,jb=8,kb=1,lb=2,mb=4,nb=8,ob=16,pb=lb|mb,qb=nb|ob,rb=["x","y"],sb=["clientX","clientY"];t.prototype={destroy:function(){this.elEvents&&j(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&j(a,this.winEvents,this.domHandler)}};var tb={mousedown:gb,mousemove:hb,mouseup:ib,mouseout:jb},ub="mousedown",vb="mousemove mouseout mouseup";g(G,t,{handler:function(a){var b=tb[a.type];if(b&gb&&0===a.button&&(this.pressed=!0),this.pressed&&this.allow){var c=a.relatedTarget||a.toElement;"mouseout"==a.type&&"HTML"!=c.nodeName&&(b=hb),b&(ib|jb)&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:eb,srcEvent:a})}}});var wb={pointerdown:gb,pointermove:hb,pointerup:ib,pointercancel:jb,pointerout:jb},xb={2:cb,3:db,4:eb},yb="pointerdown pointermove pointerup pointercancel",zb="pointerout";a.MSPointerEvent&&(yb="MSPointerDown MSPointerMove MSPointerUp MSPointerCancel",zb="MSPointerOut"),g(H,t,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=wb[d],f=a.relatedTarget||a.toElement||a.target;"pointerout"==d&&"HTML"!=f.nodeName&&(e=hb),e&gb&&0===a.button?b.push(a):e&(ib|jb)&&(c=!0);var g=n(b,a.pointerId,"pointerId");0>g||(b[g]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:xb[b[0].pointerType]||b[0].pointerType,srcEvent:a}),c&&b.splice(g,1))}});var Ab={touchstart:gb,touchmove:hb,touchend:ib,touchcancel:jb},Bb="touchstart touchmove touchend touchcancel";g(I,t,{handler:function(a){var b=this.normalizeTouches(a);this.callback(this.manager,Ab[a.type],{pointers:b[0],changedPointers:b[1],pointerType:cb,srcEvent:a})},normalizeTouches:function(a){var b=o(a.changedTouches),c=o(a.touches).concat(b);return[p(c,"identifier"),b]}}),g(J,t,{handler:function(a,b,c){var d=c.pointerType==cb,e=c.pointerType==eb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&ib&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),K.prototype={on:function(a,b){var c=this.handlers;return d(m(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return d(m(a),function(a){b?c[a].splice(n(c[a],b),1):delete c[a]}),this},destroy:function(){this.handlers={}},emit:function(a,b){this.domEvents&&L(a,b);var c=this.handlers[a];if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;d++)c[d](b)}}};var Cb=typeof q(document.body.style,"touchAction")!==Y;M.prototype={set:function(a){Cb&&q(this.manager.element.style,"touchAction",a),this.actions=m(a.toLowerCase())},update:function(a){if(!Cb){var b=a.srcEvent,c=a.direction;if(this.manager.session.prevented)return void b.preventDefault();for(var d=0;d<this.actions.length;d++)switch(this.actions[d]){case"none":this.prevent(b);break;case"pan-y":c&pb&&this.prevent(b);break;case"pan-x":c&qb&&this.prevent(b)}}},prevent:function(a){this.manager.session.prevented=!0,a.preventDefault()}},c.defaults={domEvents:!1,touchAction:"pan-y",recognizers:[[T],[S,null,"rotate"],[R],[U,null,"pan"],[V,{event:"doubletap",taps:2}],[V],[Q]]},g(N,K,{enable:function(a){this.enabled=a},stop:function(){this.session.stopped=!0},recognize:function(a){if(!this.session.stopped){this.touchAction.update(a);var b,c=this.session,d=c.curRecognizer;(!d||d&&d.state&Hb)&&(d=c.curRecognizer=null);for(var e=0;e<this.recognizers.length;e++)b=this.recognizers[e],!d||b==d||b.canRecognizeWith(d)?b.recognize(a):b.reset(),!d&&b.state&(Eb|Fb|Gb)&&(d=c.curRecognizer=b)}},get:function(a){if(a instanceof O)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){return this.recognizers.push(a),a.manager=this,a},remove:function(a){a=this.get(a);for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c]===a)return this.recognizers.splice(c,1),a;return null},destroy:function(){this._super.destroy.call(this),this.session={},this.input.destroy(),this.element=null}});var Db=1,Eb=2,Fb=4,Gb=8,Hb=Gb,Ib=16,Jb=32;O.prototype={enable:function(a){this.enabled=a},emit:function(a){this.manager.emit(this.options.event+this.stateStr(),a)},recognizeWith:function(a){return a=this.manager.get(a),this.canRecognizeWith(a)||(this.simultaneous[a.id]=a,a.recognizeWith(this)),this},dontRecognizeWith:function(a){return a=this.manager.get(a),this.canRecognizeWith(a)&&(delete this.simultaneous[a.id],a.dontRecognizeWith(this)),this},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},recognize:function(a){return this.enabled?(this.state&(Hb|Ib|Jb)&&(this.state=Db),this.state=this.test(a),void(this.state&(Eb|Fb|Gb|Ib)&&this.emit(a))):(this.reset(),void(this.state=Jb))},reset:function(){},stateStr:function(){var a=this.state;return a&Ib?"cancel":a&Gb?"end":a&Fb?"":a&Eb?"start":""}},g(P,O,{defaults:{pointers:1},attrTest:function(a){return a.pointers.length===this.options.pointers},test:function(a){var b=this.state,c=a.eventType,d=b&(Eb|Fb),e=this.attrTest(a);return d&&(c&jb||!e)?b|Ib:d||e?c&ib?b|Gb:b&Eb?b|Fb:b|Eb:Jb}}),g(Q,O,{defaults:{event:"hold",pointers:1,time:500,movementWhile:10},test:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.movementWhile,e=a.deltaTime>b.time;return this._input=a,!d||!c||a.eventType&(ib|jb)&&!e?this.reset():a.eventType&gb&&(this.reset(),this._timer=setTimeout(h(this.emit,this),b.time)),Jb},reset:function(){clearTimeout(this._timer)},emit:function(){this.manager.emit(this.options.event,this._input)}}),g(R,P,{defaults:{event:"pan",threshold:10,pointers:1,direction:pb|qb},attrTest:function(a){var b=this.options,c=!0;if(!(a.direction&b.direction)){var d=a.deltaX,e=a.deltaY;b.direction&pb?(a.direction=0===d?kb:0>d?lb:mb,c=d!=this._pX):(a.direction=0===e?kb:0>e?nb:ob,c=e!=this._pY)}return this._super.attrTest.call(this,a)&&a.direction&b.direction&&c&&(a.distance>b.threshold||this.state&Eb)},emit:function(a){this._pX=a.deltaX,this._pY=a.deltaY,this._super.emit.call(this,a),this.manager.emit(this.options.event+a.direction,a)}}),g(S,P,{defaults:{event:"pinch",threshold:0,pointers:2},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(1-a.scale)>this.options.threshold||this.state&Eb)},emit:function(a){this._super.emit.call(this,a);var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}),g(T,P,{defaults:{event:"rotate",threshold:0,pointers:2},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(1-a.rotation)>this.options.threshold||this.state&Eb)}}),g(U,P,{defaults:{event:"swipe",distance:10,velocity:.6,pointers:1},attrTest:function(a){return a.velocity>this.options.velocity&&a.distance>this.options.distance&&a.eventType&ib},emit:function(a){this.manager.emit(this.options.event,a),this.manager.emit(this.options.event+a.direction,a)}}),g(V,O,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,movementBetween:10,movementWhile:2},test:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.movementWhile,e=a.deltaTime<b.time;if(a.eventType&ib&&d&&e&&c){var f=this.pTime?a.timeStamp-this.pTime<b.interval:!0,g=!this.pCenter||C(this.pCenter,a.center)<b.movementBetween;this.pTime=a.timeStamp,this.pCenter=a.center,g&&f?this.count+=1:this.count=1;var h=this.count%b.taps===0;if(h)return Hb}return Jb},emit:function(a){a.tapCount=this.count,this.manager.emit(this.options.event,a)}}),c.EventEmitter=K,c.Manager=N,c.Input=t,c.TouchAction=M,c.Recognizer=O,c.AttrRecognizer=P,c.Tap=V,c.Pan=R,c.Swipe=U,c.Pinch=S,c.Rotation=T,c.Hold=Q,c.INPUT_START=gb,c.INPUT_MOVE=hb,c.INPUT_END=ib,c.INPUT_CANCEL=jb,c.STATE_POSSIBLE=Db,c.STATE_BEGAN=Eb,c.STATE_CHANGED=Fb,c.STATE_ENDED=Gb,c.STATE_RECOGNIZED=Hb,c.STATE_CANCELLED=Ib,c.STATE_FAILED=Jb,c.DIRECTION_NONE=kb,c.DIRECTION_LEFT=lb,c.DIRECTION_RIGHT=mb,c.DIRECTION_UP=nb,c.DIRECTION_DOWN=ob,c.DIRECTION_HORIZONTAL=pb,c.DIRECTION_VERTICAL=qb,c.on=i,c.off=j,c.each=d,c.merge=f,c.extend=e,c.inherit=g,c.bindFn=h,c.prefixed=q,c.prefixedName=r,typeof define==X&&define.amd?define(function(){return c}):typeof module!=Y&&module.exports?module.exports=c:a.Hammer=c}(window);
//# sourceMappingURL=hammer.min.map